<div class="space-y-6 flash-in">
    <!-- Situation badge -->
    <div class="text-center">
        <span class="inline-block px-4 py-1.5 bg-gray-800/80 rounded-full text-sm font-mono text-gray-300">
            {{ scenario.situation }}
        </span>
    </div>

    <!-- Hole cards -->
    <div class="flex justify-center gap-3">
        {% for card in scenario.hand %}
        <div class="card-box {{ 'card-red' if card.color == 'red' else 'card-black' }}">
            <span>{{ card.rank }}</span>
            <span class="suit">{{ card.suit_symbol }}</span>
        </div>
        {% endfor %}
    </div>

    <p class="text-center text-gray-500 text-sm font-mono">{{ scenario.hand_key }}</p>

    <!-- Action form -->
    <form id="preflop-form">
        <input type="hidden" name="type" value="{{ scenario.type }}">
        <input type="hidden" name="position" value="{{ scenario.position }}">
        <input type="hidden" name="hand_key" value="{{ scenario.hand_key }}">
        <input type="hidden" name="correct_action" value="{{ scenario.correct_action }}">
        <input type="hidden" name="range" value="{{ scenario.range | tojson }}">
        <input type="hidden" name="range_size" value="{{ scenario.range_size }}">
        <input type="hidden" name="streak" value="{{ streak }}">
        {% if scenario.opener %}
        <input type="hidden" name="opener" value="{{ scenario.opener }}">
        {% endif %}
        {% if scenario.raise_range is not none %}
        <input type="hidden" name="raise_range" value="{{ scenario.raise_range | tojson }}">
        {% endif %}
        {% if scenario.call_range is not none %}
        <input type="hidden" name="call_range" value="{{ scenario.call_range | tojson }}">
        {% endif %}

        <div class="flex justify-center gap-3 flex-wrap">
            {% for action in scenario.actions %}
            <button type="button"
                    hx-post="/api/preflop/answer"
                    hx-include="#preflop-form"
                    hx-target="#scenario-zone"
                    hx-swap="innerHTML"
                    name="action" value="{{ action }}"
                    class="px-6 py-3 rounded-lg font-semibold transition-all text-sm
                    {% if action == 'raise' %}
                        bg-emerald-700 hover:bg-emerald-600 text-white
                    {% elif action == 'call' %}
                        bg-blue-700 hover:bg-blue-600 text-white
                    {% else %}
                        bg-gray-700 hover:bg-gray-600 text-gray-200
                    {% endif %}">
                {{ scenario.action_labels[action] }}
            </button>
            {% endfor %}
        </div>
    </form>
</div>
